<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>FlipVision - Hamzeen. H.</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/cv_container.css">
  </head>

  <body>
    <div class="preload">Initializing...</div>

    <div class="content">

      <!-- button to toggle instructions widget //-->
      <div class="btn_more">View Instructions</div>
      <!--<div id="list" class="collapsed">//-->
        <ul id="instructions" class="collapsed">
          <li>When prompted, allow chrome to access your webcam</li>
          <li>Move your hands, make gestures; you will figure out the rest</li>
          <li>This is a Chrome Experiment not tested or intended to support other browsers</li>
        </ul>
      <!--  <div class="clr"></div>
      </div>//-->

      <!-- metadata widget //-->
      <div class="widget-meta" >
        <div class="meta-wrapper">
          <div class="title-desc">
            Flip Vision <span></span>
          </div>
        </div>
      </div>

      <div id="slidercontainer">
				<div id="slider">
					<img src="img/1.jpg" alt="" />
					<img src="img/2.jpg" alt="" />
					<img src="img/3.jpg" alt="" />
					<img src="img/4.jpg" alt="" />
				</div>
			</div>

      <div id="cv_container">
        <video id="webcam" autoplay="" width="100%" height="100%"></video>
        <canvas id="canvas-source" width="320" height="240"></canvas>
        <canvas id="canvas-blended" width="320" height="240"></canvas>

        <div class="hotspot" id="area1">-</div>
        <div class="hotspot" id="area2">-</div>
      </div>

    </div>

    <script src='js/jquery3.1.1.js'></script>
    <script src='js/wow.js'></script>
    <script src="js/flux.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/hammer.js" type="text/javascript" charset="utf-8"></script>

    <script>
    function setupToolbar(pClass) {
      function setup(pClass, i, n, duration) {
        i++;
        var s = pClass.substring(0, i);
        var r = s.substring(0, i - 1);
        objDesc.innerHTML = r;

        i <= pClass.length ? setTimeout(function() {
            setup(pClass, i, n, duration);
        }, 30) : setTimeout(function() { n(); }, duration);
      }

      function toggleDesc() {
        setup("Developed by Hamzeen. H.", 0, function() {
            setup("Open Menu for Instructions", 0, function() {
                toggleDesc();
            }, 4000);
        }, 3000);
      }

      var n = $(".meta-wrapper");
      if (document.querySelector(pClass)) {
        var objDesc = document.querySelector(".title-desc span");
        objDesc && toggleDesc();
        "function" == typeof callback && callback(n);
      }
    }

    $(document).ready(function() {
      setTimeout(function() {
        $("body").addClass("onload");
      }, 2e3);
    });

    $(".btn_more")
    .click(function() {
      $(this).toggleClass("transform");
      $("#instructions").toggleClass("collapsed");
    });


    setupToolbar(".widget-meta");
    new WOW({live: !0,offset: 20}).init();

    $(function() {
      if(!flux.browser.supportsTransitions)
        alert("this demo requires your browser to support CSS3 transitions");

      window.f = new flux.slider('#slider', {
                    pagination: false,
                    autoplay: false
                 });

      var hammer = new Hammer(document.getElementById("slidercontainer"));

      hammer.ondrag = function(ev) { // ondrag we preview the next/prev slide
        var left = 0;
        if(ev.direction == 'left') {
          left = 0 - ev.distance;
        } else if(ev.direction == 'right') {
          left = ev.distance;
        }
      };

        hammer.ondragend = function(ev) {
          if(Math.abs(ev.distance) > 70) {
            if(ev.direction == 'right') {
              window.f.prev("turn");
              // console.log(window.f.currentImageIndex+1);
            }
            else if(ev.direction == 'left') {
              window.f.next("turn");
              // console.log(window.f.currentImageIndex+1);
            }
          }
        };

        $(document).keyup(function (i) {
          if (i.keyCode == 39) {
            i.preventDefault();
            window.f.next("turn");
          } else if(i.keyCode == 37){
            i.preventDefault();
            window.f.prev("turn");
          }
        });
    });
</script>
<script src="js/cv.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
